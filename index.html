<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wedding App Prototype</title>
<style>
body {background:#000;color:#fff;font-family:Arial,sans-serif;margin:0;padding:0;}
header {background:linear-gradient(to right,#b76e79,#d4a5a5);padding:1rem;text-align:center;font-size:2rem;font-weight:bold;}
.container {max-width:1200px;margin:auto;padding:2rem;}
.hidden {display:none;}
.section {margin-bottom:3rem;}
h2 {border-bottom:1px solid #444;padding-bottom:0.5rem;}
.button {background-color:#b76e79;color:#fff;border:none;padding:0.5rem 1rem;margin-top:0.5rem;cursor:pointer;border-radius:5px;}
.button:hover {background-color:#d4a5a5;color:#000;}
.item {background:#111;border:1px solid #444;padding:1rem;margin-bottom:1rem;border-radius:8px;position:relative;}
.item img {max-width:100%;border-radius:8px;}
.featured {border:2px solid gold;position:absolute;top:5px;right:5px;background:#b76e79;padding:2px 5px;border-radius:4px;font-size:0.8rem;}
.form-group {margin-bottom:1rem;}
input, select {width:100%;padding:0.5rem;border-radius:5px;border:1px solid #444;background:#222;color:#fff;}
input::placeholder {color:#aaa;}
.dashboard {display:flex;flex-wrap:wrap;gap:1rem;}
.card {flex:1 1 calc(33% - 1rem);background:#111;border:1px solid #444;padding:1rem;border-radius:8px;position:relative;}
.logout {position:fixed;top:1rem;right:1rem;}
.nav-tabs {display:flex;gap:1rem;margin-bottom:1rem;}
.nav-tabs button {padding:0.5rem 1rem;border-radius:5px;border:none;cursor:pointer;background:#222;color:#fff;}
.nav-tabs button.active {background:#b76e79;color:#fff;}
.filter-bar {margin-bottom:1rem;display:flex;gap:1rem;flex-wrap:wrap;}
.filter-bar select {width:auto;}
.chat-box {background:#111;padding:1rem;height:200px;overflow-y:auto;margin-bottom:1rem;border-radius:8px;}
.chat-input {display:flex;gap:0.5rem;}
.chat-input input {flex:1;}
</style>
</head>
<body>

<header>Wedding App Prototype</header>
<div class="logout hidden"><button class="button" onclick="logout()">Logout</button></div>
<div class="container">

<!-- ROLE SELECTION -->
<div id="roleStage" class="section">
  <h2>Select Your Role</h2>
  <select id="roleSelect">
    <option value="">--Select Role--</option>
    <option value="bride">Bride</option>
    <option value="vendor">Vendor</option>
    <option value="admin">Admin</option>
  </select>
  <button class="button" onclick="roleNext()">Next</button>
</div>

<!-- BRIDE PORTAL -->
<div id="bridePortal" class="section hidden">
  <h2>Bride Portal</h2>
  <div id="brideStages">
    <div id="brideLoginStage">
      <div class="form-group"><input type="text" id="brideName" placeholder="Your Name"></div>
      <button class="button" onclick="brideNext('dateStage')">Next</button>
    </div>
    <div id="dateStage" class="hidden">
      <div class="form-group"><input type="date" id="weddingDate"></div>
      <button class="button" onclick="brideNext('bookedStage')">Next</button>
    </div>
    <div id="bookedStage" class="hidden">
      <h3>Services Already Booked</h3>
      <div class="form-group" id="bookedServicesDiv">
        <label><input type="checkbox" value="venue"> Venue</label><br>
        <label><input type="checkbox" value="catering"> Catering</label><br>
        <label><input type="checkbox" value="decor"> Decor</label><br>
        <label><input type="checkbox" value="makeup"> Makeup</label><br>
        <label><input type="checkbox" value="nails"> Nail Tech</label><br>
        <label><input type="checkbox" value="photographer"> Photographer</label><br>
        <label><input type="checkbox" value="entertainment"> Entertainment</label><br>
        <label><input type="checkbox" value="officiant"> Officiant</label><br>
        <label><input type="checkbox" value="boutique"> Bridal Boutique</label><br>
        <label><input type="checkbox" value="accommodation"> Accommodation</label><br>
      </div>
      <button class="button" onclick="brideNext('neededStage')">Next</button>
    </div>
    <div id="neededStage" class="hidden">
      <h3>Services You Still Need</h3>
      <div class="form-group" id="neededServicesDiv">
        <label><input type="checkbox" value="venue"> Venue</label><br>
        <label><input type="checkbox" value="catering"> Catering</label><br>
        <label><input type="checkbox" value="decor"> Decor</label><br>
        <label><input type="checkbox" value="makeup"> Makeup</label><br>
        <label><input type="checkbox" value="nails"> Nail Tech</label><br>
        <label><input type="checkbox" value="photographer"> Photographer</label><br>
        <label><input type="checkbox" value="entertainment"> Entertainment</label><br>
        <label><input type="checkbox" value="officiant"> Officiant</label><br>
        <label><input type="checkbox" value="boutique"> Bridal Boutique</label><br>
        <label><input type="checkbox" value="accommodation"> Accommodation</label><br>
      </div>
      <button class="button" onclick="generateServiceQuestions()">Next</button>
    </div>
    <div id="serviceQuestionsStage" class="hidden">
      <h3>Answer Questions</h3>
      <div id="serviceQuestionsContainer"></div>
      <button class="button" onclick="showVendorRecommendations()">See Recommended Vendors</button>
    </div>
    <div id="vendorsStage" class="hidden">
      <div class="filter-bar">
        <select id="filterLocation" onchange="applyFilters()"><option value="">All Locations</option><option value="Cape Town">Cape Town</option><option value="Stellenbosch">Stellenbosch</option></select>
        <select id="filterRating" onchange="applyFilters()"><option value="">All Ratings</option><option value="5">5 ⭐</option><option value="4.5">4.5 ⭐</option></select>
        <select id="filterFeatured" onchange="applyFilters()"><option value="">All Vendors</option><option value="featured">Featured Only</option></select>
      </div>
      <div class="nav-tabs">
        <button class="active" onclick="showTab('vendorsTab', this)">Recommended Vendors</button>
        <button onclick="showTab('timelineTab', this)">Wedding Planner Timeline</button>
        <button onclick="showTab('budgetTab', this)">Budget Tracker</button>
        <button onclick="showTab('chatTab', this)">Chat Mockup</button>
      </div>
      <div id="vendorsTab" class="tabContent dashboard"></div>
      <div id="timelineTab" class="tabContent hidden"></div>
      <div id="budgetTab" class="tabContent hidden"></div>
      <div id="chatTab" class="tabContent hidden">
        <div class="chat-box" id="chatBox"></div>
        <div class="chat-input">
          <input type="text" id="chatMessage" placeholder="Type message...">
          <button class="button" onclick="sendMessage()">Send</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- VENDOR PORTAL -->
<div id="vendorPortal" class="section hidden">
  <h2>Vendor Portal</h2>
  <div class="form-group"><input type="text" id="vendorName" placeholder="Vendor Name"></div>
  <div class="form-group">
    <select id="vendorPlan">
      <option value="standard">Standard - R150/m</option>
      <option value="gold">Gold - R230/m (Featured in Category)</option>
      <option value="platinum">Platinum - R450/m (Featured Homepage)</option>
    </select>
  </div>
  <button class="button" onclick="vendorRegister()">Register / Login</button>
  <div id="vendorDashboard" class="hidden">
    <h3>Vendor Dashboard</h3>
    <p>Profile, upload services, images, specials (portfolio mockup)</p>
  </div>
</div>

<!-- ADMIN PORTAL -->
<div id="adminPortal" class="section hidden">
  <h2>Admin Portal</h2>
  <p>Approve/reject vendors, adjust featured listings, chat with brides/vendors (mockup)</p>
</div>

</div>

<script>
// Global Variables
let role='', brideName='', weddingDate='', bookedServices=[], neededServices=[], serviceAnswers={}, brideBudget=50000;
const vendors=[
  {name:'Rose Vine Venue', service:'venue', featured:true, location:'Cape Town', rating:5, image:'https://images.unsplash.com/photo-1508080386294-64c7e5b3b06c?w=400'},
  {name:'Gold Star Catering', service:'catering', featured:false, location:'Stellenbosch', rating:4.5, image:'https://images.unsplash.com/photo-1600891964599-f61ba0e24092?w=400'},
  {name:'Blissful Decor', service:'decor', featured:true, location:'Cape Town', rating:5, image:'https://images.unsplash.com/photo-1590490360187-5e3db6608aeb?w=400'},
  {name:'Beauty Glow Makeup', service:'makeup', featured:false, location:'Cape Town', rating:4.5, image:'https://images.unsplash.com/photo-1611329034822-d55aa78c03b0?w=400'},
  {name:'Nail Art Studio', service:'nails', featured:false, location:'Stellenbosch', rating:4, image:'https://images.unsplash.com/photo-1582578895221-2c94cb82fc0a?w=400'},
  {name:'Snap Photography', service:'photographer', featured:true, location:'Cape Town', rating:5, image:'https://images.unsplash.com/photo-1520975913914-0f52a50e9e87?w=400'}
];

// ROLE SELECTION
function roleNext(){
  role=document.getElementById('roleSelect').value;
  if(!role) return alert('Select a role');
  document.getElementById('roleStage').classList.add('hidden');
  document.querySelector('.logout').classList.remove('hidden');
  if(role==='bride') document.getElementById('bridePortal').classList.remove('hidden');
  if(role==='vendor') document.getElementById('vendorPortal').classList.remove('hidden');
  if(role==='admin') document.getElementById('adminPortal').classList.remove('hidden');
}

// Bride Portal Navigation
function brideNext(stage){
  const stages=['brideLoginStage','dateStage','bookedStage','neededStage','serviceQuestionsStage','vendorsStage'];
  stages.forEach(s=>document.getElementById(s).classList.add('hidden'));
  document.getElementById(stage).classList.remove('hidden');
}

// Service Questions
function generateServiceQuestions(){
  const checkboxes=document.querySelectorAll('#neededServicesDiv input[type=checkbox]');
  neededServices=[];
  checkboxes.forEach(cb=>{if(cb.checked) neededServices.push(cb.value);});
  const container=document.getElementById('serviceQuestionsContainer'); container.innerHTML='';
  neededServices.forEach(service=>{
    const div=document.createElement('div'); div.classList.add('item');
    div.innerHTML=`<h3>${service.toUpperCase()}</h3>`;
    const questions=getQuestionsForService(service);
    questions.forEach(q=>{
      const fg=document.createElement('div'); fg.classList.add('form-group');
      if(q.type==='select'){
        const select=document.createElement('select'); select.id=`${service}-${q.key}`;
        q.options.forEach(opt=>{ const option=document.createElement('option'); option.value=opt; option.textContent=opt; select.appendChild(option);});
        fg.appendChild(select);
      } else if(q.type==='checkbox'){
        const label=document.createElement('label');
        label.innerHTML=`<input type="checkbox" id="${service}-${q.key}"> ${q.label}`;
        fg.appendChild(label);
      }
      div.appendChild(fg);
    });
    container.appendChild(div);
  });
  brideNext('serviceQuestionsStage');
}

// Questions per service
function getQuestionsForService(service){
  const q={
    'venue':[ {type:'select',key:'style',options:['Farmstyle/Rustic','Winefarm','Hotel','Hall']},{type:'checkbox',key:'allInclusive',label:'All-inclusive?'} ],
    'catering':[ {type:'checkbox',key:'halaal',label:'Halaal?'},{type:'select',key:'menu',options:['Spitbraai','3 Course','Buffet','Finger Foods']},{type:'checkbox',key:'cake',label:'Wedding Cake?'} ],
    'decor':[ {type:'checkbox',key:'diy',label:'DIY Packages'},{type:'checkbox',key:'setup',label:'Setup Packages'},{type:'select',key:'style',options:['Luxury','Boho','Rustic']} ],
    'makeup':[ {type:'select',key:'style',options:['Natural','Hollywood','Glam']} ],
    'nails':[ {type:'select',key:'style',options:['Classic','Gel','Nail Art']} ],
    'photographer':[ {type:'select',key:'timeframe',options:['Full Day','Half Day','Ceremony Only']} ],
    'entertainment':[ {type:'select',key:'type',options:['DJ','Live Band','MC','Other']} ],
    'officiant':[ {type:'select',key:'type',options:['Church','Civil','Other']} ],
    'boutique':[ {type:'select',key:'style',options:['Luxury','Boho','Classic','Modern']} ],
    'accommodation':[ {type:'select',key:'type',options:['Hotel','Guest House','Farm Stay','Other']}] 
  };
  return q[service]||[];
}

// Show Vendor Recommendations
function showVendorRecommendations(){
  neededServices.forEach(service=>{ serviceAnswers[service]={}; });
  applyFilters();
  generateTimeline();
  generateBudgetTracker();
  brideNext('vendorsStage');
}

// Apply Filters
function applyFilters(){
  const locationFilter=document.getElementById('filterLocation').value;
  const ratingFilter=document.getElementById('filterRating').value;
  const featuredFilter=document.getElementById('filterFeatured').value;
  const container=document.getElementById('vendorsTab'); container.innerHTML='';
  vendors.forEach(v=>{
    if(!neededServices.includes(v.service)) return;
    if(locationFilter && v.location!==locationFilter) return;
    if(ratingFilter && v.rating!=Number(ratingFilter)) return;
    if(featuredFilter==='featured' && !v.featured) return;
    const card=document.createElement('div'); card.classList.add('card','item');
    card.innerHTML=`${v.featured?'<div class="featured">Featured</div>':''}<img src="${v.image}"><h3>${v.name}</h3><p>Service: ${v.service}</p><p>Location: ${v.location}</p><p>Rating: ${v.rating} ⭐</p>`;
    container.appendChild(card);
  });
}

// Tabs
function showTab(tabId, btn){
  document.querySelectorAll('.tabContent').forEach(t=>t.classList.add('hidden'));
  document.getElementById(tabId).classList.remove('hidden');
  document.querySelectorAll('.nav-tabs button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

// Timeline
function generateTimeline(){
  const container=document.getElementById('timelineTab'); container.innerHTML='';
  const stages=[
    '6 months before: Book venue & major vendors',
    '5 months before: Decide decor style and catering options',
    '4 months before: Book photographer and entertainment',
    '3 months before: Send invites & plan DIY projects',
    '2 months before: Confirm final guest count & schedule fittings',
    '1 month before: Finalize timeline & confirm vendors',
    '1 week before: Decor prep & rehearsal'
  ];
  stages.forEach(s=>{ const p=document.createElement('p'); p.textContent=s; container.appendChild(p); });
}

// Budget Tracker
function generateBudgetTracker(){
  const container=document.getElementById('budgetTab'); container.innerHTML='';
  let total=0;
  vendors.forEach(v=>{ if(neededServices.includes(v.service)) total+=5000; });
  const p=document.createElement('p'); p.textContent=`Estimated Budget: R${total.toLocaleString()} / Total Budget: R${brideBudget.toLocaleString()}`;
  container.appendChild(p);
}

// Chat
function sendMessage(){
  const msg=document.getElementById('chatMessage').value;
  if(!msg) return;
  const box=document.getElementById('chatBox');
  const p=document.createElement('p'); p.textContent=`You: ${msg}`;
  box.appendChild(p);
  document.getElementById('chatMessage').value='';
  box.scrollTop=box.scrollHeight;
}

// Vendor Registration
function vendorRegister(){ alert('Vendor registered/logged in. Dashboard mockup displayed.'); document.getElementById('vendorDashboard').classList.remove('hidden'); }

// Logout
function logout(){ location.reload(); }
</script>

</body>
</html>
